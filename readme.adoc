= Phobias Alexa Skill

== Setup DynamoDB

. Create a DynamoDB table `Phobias`

== Create S3 bucket

. Create bucket: `aws s3 mb s3://phobias-skill --region us-west-1`.

== Create Deployment Package

. Create and upload a deployment package: `mvn -f phobias/pom.xml package install`

== Deploy Lambda Function using Serverless Application Model (SAM)

```
aws cloudformation deploy \
--template-file app-sam.yml \
--stack-name phobias-skill \
--region us-west-1
```

== Test Lambda Function

=== GET

. Get one
+
```
aws lambda invoke --function-name PhobiasGetOne --payload '{ "meaning": "air" }' out
```
+
. Get all
+
```
aws lambda invoke --function-name PhobiasGetAll out
```


=== POST

```
aws lambda invoke --function-name PhobiasGetOne --payload '{ "meaning": "spider", "word": "arachnophobia" }' out
```

== Delete Lambda Function

```
aws cloudformation delete-stack \
--stack-name phobias-skill \
--region us-west-1
```
